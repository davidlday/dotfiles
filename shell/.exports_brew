#!/usr/bin/env bash
# Exports for (Home/Linux)brew.

if ! is-macos; then
  if [ -d /home/linuxbrew/.linuxbrew ]; then
    export BREW_HOME="/home/linuxbrew/.linuxbrew"
  elif [ -d ~/.linuxbrew ]; then
    export BREW_HOME="${HOME}/.linuxbrew"
  fi
  if [ -d "${BREW_HOME}/bin" ]; then
    prepend-path "${BREW_HOME}/bin"
    export MANPATH="${BREW_HOME}/share/man:$MANPATH"
    export INFOPATH="${BREW_HOME}/share/info:$INFOPATH"
    if [ -n "${XDG_DATA_DIRS}" ]; then
      export XDG_DATA_DIRS="${BREW_HOME}/share:${XDG_DATA_DIRS}"
    fi
    unset BREW_HOME
  fi
fi

if can-brew; then
  if [ -r "$(brew --prefix)/etc/bash_completion.d/brew" ]; then
    # shellcheck source=/dev/null
    source "$(brew --prefix)/etc/bash_completion.d/brew"
  fi
fi
